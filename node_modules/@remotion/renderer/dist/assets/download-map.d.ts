import type { TRenderAsset } from 'remotion';
import { OffthreadVideoServerEmitter } from '../offthread-video-server';
import type { RenderMediaOnDownload } from './download-and-map-assets-to-file';
export type AudioChannelsAndDurationResultCache = {
    channels: number;
    duration: number | null;
};
export type DownloadMap = {
    id: string;
    emitter: OffthreadVideoServerEmitter;
    downloadListeners: RenderMediaOnDownload[];
    isDownloadingMap: {
        [src: string]: {
            [downloadDir: string]: boolean;
        } | undefined;
    };
    hasBeenDownloadedMap: {
        [src: string]: {
            [downloadDir: string]: string | null;
        } | undefined;
    };
    listeners: {
        [key: string]: {
            [downloadDir: string]: (() => void)[];
        };
    };
    durationOfAssetCache: Record<string, AudioChannelsAndDurationResultCache>;
    downloadDir: string;
    preEncode: string;
    audioMixing: string;
    complexFilter: string;
    audioPreprocessing: string;
    stitchFrames: string;
    assetDir: string;
    compositingDir: string;
    compositorCache: {
        [key: string]: string;
    };
};
export type RenderAssetInfo = {
    assets: TRenderAsset[][];
    imageSequenceName: string;
    firstFrameIndex: number;
    downloadMap: DownloadMap;
};
export declare const makeDownloadMap: () => DownloadMap;
export declare const cleanDownloadMap: (downloadMap: DownloadMap) => void;
